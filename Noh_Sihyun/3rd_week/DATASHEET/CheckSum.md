# 체크섬(CheckSum) 

 네트워크를 통해서 전송된 데이터의 값이 변경되었는지(무결성)를 검사하는 값이다.

무결성을 통해서, 네트워크를 통해 수신된 데이터의 오류 여부를 확인한다. 



## 일반적인 체크섬의 예

4바이트의 데이터가 있다. {0x 25, 0x62, 0x3F, 0x52}

1. 모든 바이트를 더한다.

   * 주어진 값을 10진수로 변환하면 37, 98, 63, 82가 나온다.

     이 값들을 다 더하면 280이고 다시 16진수로 변환하면 0x118이다.

2. 캐리 니블(최상위 니블)을 버린다.

   * 0x118을 2진수로 변환하면 0001 0001 1000이다.

     캐리 니블 버리게 되면 ~~0001~~ **0001** **1000**이 된다.

3. 2번에서 구한 값에 2의 보수를 구한다.

   * 0001 1000(2번에서 구한 값)

     1110 0111(1의 보수)

     1110 0111 +1 = 1110 1000 (2의 보수)

     구한 값을 16진수로 변환하면 0xE8이 된다.



   **이때, 0xE8을 체크섬 바이트라고 한다.**



## 체크섬 바이트 테스트

원래 그룹의 바이트에 체크섬 바이트까지 모두 더해서 나온 값이 0이되면 송신측에서 보낸 정보와 수신측에서 받은 정보가 일치한다는 뜻이다. 

0x118(바이트 4개를 다 더한 값) + 0xE8(체크섬 바이트) = 0x200

0x200을 2진수로 변환하면 0010 0000 0000이다.

캐리 니블을 버리면 ~~0010~~ 0000 0000 = 0이다.



체크섬을 이용해서 튀는 값들을 잡아줄 수 있다. 

0이 아닌 값이 반환값으로 돌아왔을 때 무시해버리고 0이 들어왔을 때만 정상적인 데이터라고 인식해버리게 하면 된다.

---

**용어**

오류 검출: 전달자가 수신자에게 전달하는 동안 노이즈나 다른 장애로 인해 생긴 오류를 감지하는 것.

오류 정정: 오류를 감지하고 원본 데이터를 다시 구축하는 것.

무결성: 데이터의 정확성과 일관성을 유지하고, 데이터에 결손과 부정합이 없음을 보증하는 것.

중복검사: 정보의 전송이나 조작시, 발생하는 에러를 자동적으로 검출하기 위해 정보의 구성 비트나 문자를 이용하여 프로그램으로서 검사하는 것.

니블(nibble): 1바이트의 절반으로 보통 4비트를 가리킨다.

----

[참고자료](https://www.youtube.com/watch?v=_a_cu1Sm-mQ)

[참고자료](https://m.blog.naver.com/PostView.nhn?blogId=dkwltmdgus&logNo=220537080579&proxyReferer=https%3A%2F%2Fwww.google.co.kr%2F)

---

